$('#menu').append('<li class="menu-item ic-app-header__menu-list-item ">\n' +
    '            <a id="global_nav_conversations_link" href="https://calendar.google.com/" class="ic-app-header__menu-list-link" target="_blank">\n' +
    '              <div class="menu-item-icon-container">\n' +
    '                <span aria-hidden="true"><svg class="ic-icon-svg ic-icon-svg--dashboard" style="width: 35px;height: 35px" enable-background="new 0 0 60 58" height="512" viewBox="0 0 60 58" width="512" xmlns="http://www.w3.org/2000/svg"><path d="m30 26c-.146 0-.291-.032-.426-.095l-17-8c-.35-.165-.574-.518-.574-.905s.224-.74.574-.905l17-8c.27-.127.582-.127.852 0l17 8c.35.165.574.518.574.905s-.224.74-.574.905l-17 8c-.135.063-.28.095-.426.095zm-14.651-9 14.651 6.895 14.651-6.895-14.651-6.895z"/><path d="m30 34c-.153 0-.307-.035-.447-.105l-12-6c-.339-.17-.553-.516-.553-.895v-7.647c0-.342.175-.661.464-.844.289-.184.652-.205.961-.061l11.575 5.447 11.574-5.447c.31-.145.673-.123.961.061.29.183.465.502.465.844v7.647c0 .379-.214.725-.553.895l-12 6c-.14.07-.294.105-.447.105zm-11-7.618 11 5.5 11-5.5v-5.453l-10.574 4.976c-.27.127-.582.127-.852 0l-10.574-4.976z"/><path d="m47 18h-17c-.552 0-1-.448-1-1s.448-1 1-1h17c.552 0 1 .448 1 1s-.448 1-1 1z"/><path d="m47 27c-.552 0-1-.448-1-1v-9c0-.552.448-1 1-1s1 .448 1 1v9c0 .552-.448 1-1 1z"/><path d="m30 20c-.552 0-1-.448-1-1v-4c0-.552.448-1 1-1s1 .448 1 1v4c0 .552-.448 1-1 1z"/><path d="m44.999 30c-.19 0-.383-.054-.554-.168-.459-.306-.583-.927-.277-1.387l2-3c.306-.46.926-.585 1.387-.277.459.306.583.927.277 1.387l-2 3c-.193.289-.51.445-.833.445z"/><path d="m49.001 30c-.323 0-.64-.156-.833-.445l-2-3c-.306-.459-.182-1.081.277-1.387.459-.308 1.08-.183 1.387.277l2 3c.306.459.182 1.081-.277 1.387-.171.114-.364.168-.554.168z"/><path d="m30 29c-.552 0-1-.448-1-1v-3c0-.552.448-1 1-1s1 .448 1 1v3c0 .552-.448 1-1 1z"/><path d="m59 38h-58c-.552 0-1-.448-1-1v-32.999c0-2.206 1.795-4.001 4.001-4.001h51.998c2.206 0 4.001 1.795 4.001 4.001v32.999c0 .552-.448 1-1 1zm-57-2h56v-31.999c0-1.104-.897-2.001-2.001-2.001h-51.998c-1.104 0-2.001.897-2.001 2.001z"/><path d="m55.999 46h-51.998c-2.206 0-4.001-1.795-4.001-4.001v-4.999c0-.552.448-1 1-1h58c.552 0 1 .448 1 1v4.999c0 2.206-1.795 4.001-4.001 4.001zm-53.999-8v3.999c0 1.104.897 2.001 2.001 2.001h51.998c1.104 0 2.001-.897 2.001-2.001v-3.999z"/><path d="m33 42h-6c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1s-.448 1-1 1z"/><path d="m55 38h-50c-.552 0-1-.448-1-1v-32c0-.552.448-1 1-1h50c.552 0 1 .448 1 1v32c0 .552-.448 1-1 1zm-49-2h48v-30h-48z"/><path d="m43 58h-26c-1.654 0-3-1.346-3-3s1.346-3 3-3h26c1.654 0 3 1.346 3 3s-1.346 3-3 3zm-26-4c-.551 0-1 .449-1 1s.449 1 1 1h26c.551 0 1-.449 1-1s-.449-1-1-1z"/><path d="m41 54h-22c-.552 0-1-.448-1-1s.448-1 1-1c3.318 0 5-2.355 5-7 0-.552.448-1 1-1h10c.552 0 1 .448 1 1 0 4.645 1.682 7 5 7 .552 0 1 .448 1 1s-.448 1-1 1zm-17.129-2h12.259c-1.232-1.364-1.957-3.395-2.102-6h-8.055c-.146 2.605-.87 4.636-2.102 6z"/></svg>\n' +
    '</span>\n' +
    '              </div>\n' +
    '              <div class="menu-item__text">\n' +
    '                LIVE CLASS\n' +
    '              </div>\n' +
    '            </a>\n' +
    '          </li>');


//
// $('#menu').append('<li class="menu-item ic-app-header__menu-list-item ">\n' +
//     '            <a id="global_nav_conversations_link" href="https://online.vinschool.edu.vn/login/1" class="ic-app-header__menu-list-link" target="_blank">\n' +
//     '              <div class="menu-item-icon-container">\n' +
//     '                <span aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="36" height="35.972" viewBox="0 0 36 35.972"><g id="Group_6167" data-name="Group 6167" transform="translate(-229 -106.349)"><path id="Path_10295" data-name="Path 10295" d="M229,137.329a.871.871,0,0,1,.855-.419c3.141.01,6.282.006,9.422.006h.407c-.02-.048-.023-.085-.043-.1a8.878,8.878,0,0,1-3.177-5.352,10.273,10.273,0,0,1,.528-6.337.419.419,0,0,0-.076-.47,6.576,6.576,0,0,1,3.069-10.143c.318-.114.648-.2,1.02-.306,0-.6,0-1.218,0-1.836,0-.336.089-.758-.077-.984-.153-.209-.592-.21-.906-.3-.349-.1-.7-.187-1.05-.283a1.228,1.228,0,0,1-.969-1.184,1.215,1.215,0,0,1,.96-1.189c2.53-.682,5.059-1.368,7.594-2.031a1.839,1.839,0,0,1,.892,0c2.524.661,5.041,1.347,7.561,2.021a1.21,1.21,0,0,1,.956.922,1.191,1.191,0,0,1-.407,1.2.563.563,0,0,0-.152.357c-.017.468,0,.937-.009,1.406a.885.885,0,0,0,.319.742.587.587,0,0,1,.1.844.6.6,0,0,1-.876.054,1.855,1.855,0,0,1-.739-1.558c0-.432,0-.864,0-1.352-.381.1-.728.177-1.066.285-.064.021-.129.157-.13.241-.01.809.007,1.618-.013,2.426-.007.293.192.274.36.318a6.6,6.6,0,0,1,3.772,10.292.55.55,0,0,0-.084.593,10.585,10.585,0,0,1-1.226,10.16,5.95,5.95,0,0,1-.709.824c-.243.246-.518.459-.836.735h9.717c.094,0,.188,0,.281,0,.461.008.745.248.735.619s-.273.578-.731.578q-5.8,0-11.6,0h-.36a9.424,9.424,0,0,1,.04,1.6,2.342,2.342,0,0,1-3.172,1.843.481.481,0,0,0-.546.091,10.12,10.12,0,0,1-1.206.672h-.844a13.1,13.1,0,0,1-1.233-.694.434.434,0,0,0-.485-.08,2.347,2.347,0,0,1-3.206-1.831,9.375,9.375,0,0,1,.04-1.6h-.358q-5.729,0-11.458.006a.969.969,0,0,1-.879-.371Zm23.831-10.09a6.673,6.673,0,0,1-4.441-.868c-.169.8-.414,1.5-1.329,1.534-1,.038-1.27-.7-1.456-1.536a6.625,6.625,0,0,1-4.43.874c-.045.346-.1.645-.121.946-.028.338-.039.678-.045,1.017a11.47,11.47,0,0,0,2.513,7.5.584.584,0,0,0,.4.2q3.092.019,6.184,0a.5.5,0,0,0,.346-.166A11.888,11.888,0,0,0,252.831,127.238Zm-5.215-5.94c.062-2.557,1.115-4.117,3.1-4.636a4.194,4.194,0,0,1,4.146,6.91,4.041,4.041,0,0,1-2.4,1.281,4.209,4.209,0,0,1-3.379-.931,7.808,7.808,0,0,1-.258.878c-.128.3,0,.438.245.577a5.307,5.307,0,0,0,3.553.678,5.4,5.4,0,0,0-.836-10.735q-4.8-.013-9.6,0a5.393,5.393,0,0,0-2.777,10.011,5.231,5.231,0,0,0,5.571,0c.106-.06.257-.207.242-.287-.07-.369-.191-.728-.3-1.108a4.29,4.29,0,0,1-5.512-.064,4.215,4.215,0,0,1,3.347-7.349,4.127,4.127,0,0,1,2.357,1.153,4.248,4.248,0,0,1,1.253,3.617Zm-8.348-11.7a1.941,1.941,0,0,0,.2.091c2.382.641,4.763,1.287,7.149,1.913a1.6,1.6,0,0,0,.776,0c1.89-.489,3.775-1,5.66-1.506.533-.143,1.064-.295,1.691-.469-.189-.067-.271-.1-.357-.125-2.292-.617-4.585-1.228-6.874-1.855a1.843,1.843,0,0,0-1.022,0C244.112,108.3,241.729,108.935,239.268,109.6Zm2.667,27.033c-.091-.156-.146-.254-.2-.35a13.2,13.2,0,0,1-1.773-4.884,14.485,14.485,0,0,1-.007-4.167c.015-.107-.012-.291-.081-.329-.617-.344-1.248-.663-1.889-1a.853.853,0,0,0-.053.118,9.389,9.389,0,0,0,1.259,8.658A5.13,5.13,0,0,0,241.935,136.628ZM254.023,127a13.571,13.571,0,0,1-1.957,9.6,4.966,4.966,0,0,0,2.594-1.724,9.3,9.3,0,0,0,1.792-7.385c-.09-.557-.268-1.1-.4-1.63Zm-8.832-6.332a3.134,3.134,0,1,0-4.214,2.933,2.987,2.987,0,0,0,2.293-.056,2.173,2.173,0,0,0,1.453-1.49.383.383,0,0,1,.1-.182A1.59,1.59,0,0,0,245.191,120.669Zm4.771,19.916a1.245,1.245,0,0,0,1.187-1,4.453,4.453,0,0,0-.109-1.134c-.036-.257-.191-.344-.465-.343-2.258.012-4.517.007-6.775.007-.823,0-.841.016-.964.859-.005.035-.012.069-.016.1a1.222,1.222,0,0,0,.622,1.3,1.2,1.2,0,0,0,1.393-.209c.436-.373.807-.3,1.066.22a1.2,1.2,0,0,0,2.208-.011c.255-.514.615-.562,1.074-.208A5.042,5.042,0,0,0,249.962,140.586Zm1.659-16.875a2.991,2.991,0,0,0,.729-5.926,2.975,2.975,0,0,0-3.424,2.164,2.028,2.028,0,0,0,.271,1.961,1.867,1.867,0,0,1,.156.349,2.468,2.468,0,0,0,.329.556A2.749,2.749,0,0,0,251.621,123.71Zm.157-12.009c-.111.021-.2.033-.292.057-1.311.352-2.617.719-3.934,1.047a2.153,2.153,0,0,1-.993.024c-1.272-.311-2.533-.671-3.8-1.01-.173-.046-.35-.079-.536-.12v2.395h9.553Zm-5.969,10.837,1.134,4.157.114,0,1.154-4.154Z" transform="translate(0 0)" fill="#fff"/><path id="Path_10296" data-name="Path 10296" d="M353.946,241.968a1.773,1.773,0,0,1-1.846,1.753,1.793,1.793,0,0,1-1.745-1.828,1.82,1.82,0,0,1,1.856-1.763A1.794,1.794,0,0,1,353.946,241.968Zm-1.2-.02a.6.6,0,0,0-.582-.617.614.614,0,0,0-.608.6.6.6,0,0,0,.573.59A.576.576,0,0,0,352.745,241.948Z" transform="translate(-109.955 -121.212)" fill="#fff"/><path id="Path_10297" data-name="Path 10297" d="M454.435,243.717a1.776,1.776,0,0,1-1.776-1.826,1.8,1.8,0,0,1,1.807-1.77,1.819,1.819,0,0,1,1.786,1.8A1.8,1.8,0,0,1,454.435,243.717Zm.018-1.2a.6.6,0,0,0,.6-.6.62.62,0,0,0-.585-.589.6.6,0,0,0-.606.593A.577.577,0,0,0,454.453,242.514Z" transform="translate(-202.648 -121.205)" fill="#fff"/></g></svg>\n' +
//     '</span>\n' +
//     '              </div>\n' +
//     '              <div class="menu-item__text">\n' +
//     '              </div>\n' +
//     '            </a>\n' +
//     '          </li>');


//$('#menu').append('<li class="menu-item ic-app-header__menu-list-item ">\n' +
 //   '            <a id="global_nav_conversations_link" href="https://swb.vinschool.edu.vn/login?type=google" class="ic-app-header__menu-list-link" target="_blank">\n' +
//   '              <div class="menu-item-icon-container">\n' +
 //   '                <span aria-hidden="true"><img src="https://icons.veryicon.com/png/o/miscellaneous/tiptap-editor/checklist-24.png"/></svg>\n' +
 //   '</span>\n' +
 //   '              </div>\n' +
 //   '              <div class="menu-item__text">\n' +
 //   '                SWB\n' +
  //  '              </div>\n' +
   // '            </a>\n' +
   // '          </li>');

// $('#menu').append('<li class="menu-item ic-app-header__menu-list-item ">\n' +
//     '            <a id="global_nav_conversations_link" href="https://lms.vinschool.edu.vn/courses/16327" class="ic-app-header__menu-list-link" target="_blank">\n' +
//     '              <div class="menu-item-icon-container">\n' +
//     // '                <span aria-hidden="true"><svg class="ic-icon-svg ic-icon-svg--dashboard" style="width: 35px;height: 35px" enable-background="new 0 0 60 58" height="512" viewBox="0 0 60 58" width="512" xmlns="http://www.w3.org/2000/svg"><path d="m30 26c-.146 0-.291-.032-.426-.095l-17-8c-.35-.165-.574-.518-.574-.905s.224-.74.574-.905l17-8c.27-.127.582-.127.852 0l17 8c.35.165.574.518.574.905s-.224.74-.574.905l-17 8c-.135.063-.28.095-.426.095zm-14.651-9 14.651 6.895 14.651-6.895-14.651-6.895z"/><path d="m30 34c-.153 0-.307-.035-.447-.105l-12-6c-.339-.17-.553-.516-.553-.895v-7.647c0-.342.175-.661.464-.844.289-.184.652-.205.961-.061l11.575 5.447 11.574-5.447c.31-.145.673-.123.961.061.29.183.465.502.465.844v7.647c0 .379-.214.725-.553.895l-12 6c-.14.07-.294.105-.447.105zm-11-7.618 11 5.5 11-5.5v-5.453l-10.574 4.976c-.27.127-.582.127-.852 0l-10.574-4.976z"/><path d="m47 18h-17c-.552 0-1-.448-1-1s.448-1 1-1h17c.552 0 1 .448 1 1s-.448 1-1 1z"/><path d="m47 27c-.552 0-1-.448-1-1v-9c0-.552.448-1 1-1s1 .448 1 1v9c0 .552-.448 1-1 1z"/><path d="m30 20c-.552 0-1-.448-1-1v-4c0-.552.448-1 1-1s1 .448 1 1v4c0 .552-.448 1-1 1z"/><path d="m44.999 30c-.19 0-.383-.054-.554-.168-.459-.306-.583-.927-.277-1.387l2-3c.306-.46.926-.585 1.387-.277.459.306.583.927.277 1.387l-2 3c-.193.289-.51.445-.833.445z"/><path d="m49.001 30c-.323 0-.64-.156-.833-.445l-2-3c-.306-.459-.182-1.081.277-1.387.459-.308 1.08-.183 1.387.277l2 3c.306.459.182 1.081-.277 1.387-.171.114-.364.168-.554.168z"/><path d="m30 29c-.552 0-1-.448-1-1v-3c0-.552.448-1 1-1s1 .448 1 1v3c0 .552-.448 1-1 1z"/><path d="m59 38h-58c-.552 0-1-.448-1-1v-32.999c0-2.206 1.795-4.001 4.001-4.001h51.998c2.206 0 4.001 1.795 4.001 4.001v32.999c0 .552-.448 1-1 1zm-57-2h56v-31.999c0-1.104-.897-2.001-2.001-2.001h-51.998c-1.104 0-2.001.897-2.001 2.001z"/><path d="m55.999 46h-51.998c-2.206 0-4.001-1.795-4.001-4.001v-4.999c0-.552.448-1 1-1h58c.552 0 1 .448 1 1v4.999c0 2.206-1.795 4.001-4.001 4.001zm-53.999-8v3.999c0 1.104.897 2.001 2.001 2.001h51.998c1.104 0 2.001-.897 2.001-2.001v-3.999z"/><path d="m33 42h-6c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1s-.448 1-1 1z"/><path d="m55 38h-50c-.552 0-1-.448-1-1v-32c0-.552.448-1 1-1h50c.552 0 1 .448 1 1v32c0 .552-.448 1-1 1zm-49-2h48v-30h-48z"/><path d="m43 58h-26c-1.654 0-3-1.346-3-3s1.346-3 3-3h26c1.654 0 3 1.346 3 3s-1.346 3-3 3zm-26-4c-.551 0-1 .449-1 1s.449 1 1 1h26c.551 0 1-.449 1-1s-.449-1-1-1z"/><path d="m41 54h-22c-.552 0-1-.448-1-1s.448-1 1-1c3.318 0 5-2.355 5-7 0-.552.448-1 1-1h10c.552 0 1 .448 1 1 0 4.645 1.682 7 5 7 .552 0 1 .448 1 1s-.448 1-1 1zm-17.129-2h12.259c-1.232-1.364-1.957-3.395-2.102-6h-8.055c-.146 2.605-.87 4.636-2.102 6z"/></svg>\n' +
//     '                <span aria-hidden="true"><svg class="ic-icon-svg ic-icon-svg--dashboard" enable-background="new 0 0 50 50" height="50px" id="Layer_1" version="1.1" viewBox="0 0 50 50" width="50px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><circle cx="25" cy="25" fill="none" r="24" stroke="#000000" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><rect fill="none" height="50" width="50"/><g><path d="M23.533,30.407v-1.47c0-1.436,0.322-2.188,1.075-3.229l2.404-3.3c1.254-1.721,1.684-2.546,1.684-3.766   c0-2.044-1.434-3.335-3.479-3.335c-2.008,0-3.299,1.219-3.729,3.407c-0.036,0.215-0.179,0.323-0.395,0.287l-2.259-0.395   c-0.216-0.036-0.323-0.179-0.288-0.395c0.539-3.443,3.014-5.703,6.744-5.703c3.872,0,6.49,2.546,6.49,6.097   c0,1.722-0.608,2.977-1.828,4.663l-2.403,3.3c-0.717,0.968-0.933,1.47-0.933,2.689v1.147c0,0.215-0.143,0.358-0.358,0.358h-2.367   C23.676,30.766,23.533,30.622,23.533,30.407z M23.354,33.851c0-0.215,0.143-0.358,0.359-0.358h2.726   c0.215,0,0.358,0.144,0.358,0.358v3.084c0,0.216-0.144,0.358-0.358,0.358h-2.726c-0.217,0-0.359-0.143-0.359-0.358V33.851z"/></g></svg>\n' +
//     '</span>\n' +
//     '              </div>\n' +
//     '              <div class="menu-item__text">\n' +
//     '                HÆ°á»›ng dáº«n\n' +
//     '              </div>\n' +
//     '            </a>\n' +
//     '          </li>');


var params = window.location.search;
if (typeof (params) != 'undefined' && params.length > 0) {
    params = params.substr(1);

    var queryParamArray = params.split('&amp;');
    var loginLocal = false;
    if (queryParamArray.length > 0) {
        for (var i = 0; i < queryParamArray.length; i++) {
            if (queryParamArray[i] == 'login=admin' ||queryParamArray[i] == 'login=local' ) {
                loginLocal = true;
            }
        }
    }
    if (loginLocal) {
        $('.ic-Form-control.ic-Form-control--login').css({
            display: 'block'
        });
        $('.ic-Login__actions').css({
            'display': 'flex',
            'align-items': 'center',
            'position': 'initial',
            'bottom': 'auto',
            'text-align': 'initial'
        });
        $('.ic-Login__sso').css({
            clear: 'both',
            'text-align': 'initial',
            'position': 'initial',
            top: 'auto'
        });
        $("label").filter(function() { return ($(this).text() === 'Email') }).each(function() {
            var text = $(this).text();
            $(this).text(text.replace('Email', 'UserName'));
        });
    }else{
        addButtonMobile();
    }
} else {
    addButtonMobile();
}



// addButtonMobile()
function addLiveClassDesktop() {
    $('.ic-Login__body #login_form').append('<a id="live_class_btn" style="border-radius: 5px;background: #d7a11f;background: -moz-linear-gradient(top, #d7a11f 0%, #d69500 100%);background: -webkit-linear-gradient(top, #d7a11f 0%,#d69500 100%);background: linear-gradient(to bottom, #d7a11f 0%,#d69500 100%);filter: progid:DXImageTransform.Microsoft.gradient( startColorstr=\'#d7a11f\', endColorstr=\'#d69500\',GradientType=0 ); width: 30%;margin: 0 auto;" href="https://calendar.google.com/" class="ic-app-header__menu-list-link" target="_blank">\n' +
        '              <div class="menu-item-icon-container">\n' +
        '                <span aria-hidden="true"><svg class="ic-icon-svg ic-icon-svg--dashboard" style="width: 50px;height: 50px" enable-background="new 0 0 60 58" height="512" viewBox="0 0 60 58" width="512" xmlns="http://www.w3.org/2000/svg"><path d="m30 26c-.146 0-.291-.032-.426-.095l-17-8c-.35-.165-.574-.518-.574-.905s.224-.74.574-.905l17-8c.27-.127.582-.127.852 0l17 8c.35.165.574.518.574.905s-.224.74-.574.905l-17 8c-.135.063-.28.095-.426.095zm-14.651-9 14.651 6.895 14.651-6.895-14.651-6.895z"/><path d="m30 34c-.153 0-.307-.035-.447-.105l-12-6c-.339-.17-.553-.516-.553-.895v-7.647c0-.342.175-.661.464-.844.289-.184.652-.205.961-.061l11.575 5.447 11.574-5.447c.31-.145.673-.123.961.061.29.183.465.502.465.844v7.647c0 .379-.214.725-.553.895l-12 6c-.14.07-.294.105-.447.105zm-11-7.618 11 5.5 11-5.5v-5.453l-10.574 4.976c-.27.127-.582.127-.852 0l-10.574-4.976z"/><path d="m47 18h-17c-.552 0-1-.448-1-1s.448-1 1-1h17c.552 0 1 .448 1 1s-.448 1-1 1z"/><path d="m47 27c-.552 0-1-.448-1-1v-9c0-.552.448-1 1-1s1 .448 1 1v9c0 .552-.448 1-1 1z"/><path d="m30 20c-.552 0-1-.448-1-1v-4c0-.552.448-1 1-1s1 .448 1 1v4c0 .552-.448 1-1 1z"/><path d="m44.999 30c-.19 0-.383-.054-.554-.168-.459-.306-.583-.927-.277-1.387l2-3c.306-.46.926-.585 1.387-.277.459.306.583.927.277 1.387l-2 3c-.193.289-.51.445-.833.445z"/><path d="m49.001 30c-.323 0-.64-.156-.833-.445l-2-3c-.306-.459-.182-1.081.277-1.387.459-.308 1.08-.183 1.387.277l2 3c.306.459.182 1.081-.277 1.387-.171.114-.364.168-.554.168z"/><path d="m30 29c-.552 0-1-.448-1-1v-3c0-.552.448-1 1-1s1 .448 1 1v3c0 .552-.448 1-1 1z"/><path d="m59 38h-58c-.552 0-1-.448-1-1v-32.999c0-2.206 1.795-4.001 4.001-4.001h51.998c2.206 0 4.001 1.795 4.001 4.001v32.999c0 .552-.448 1-1 1zm-57-2h56v-31.999c0-1.104-.897-2.001-2.001-2.001h-51.998c-1.104 0-2.001.897-2.001 2.001z"/><path d="m55.999 46h-51.998c-2.206 0-4.001-1.795-4.001-4.001v-4.999c0-.552.448-1 1-1h58c.552 0 1 .448 1 1v4.999c0 2.206-1.795 4.001-4.001 4.001zm-53.999-8v3.999c0 1.104.897 2.001 2.001 2.001h51.998c1.104 0 2.001-.897 2.001-2.001v-3.999z"/><path d="m33 42h-6c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1s-.448 1-1 1z"/><path d="m55 38h-50c-.552 0-1-.448-1-1v-32c0-.552.448-1 1-1h50c.552 0 1 .448 1 1v32c0 .552-.448 1-1 1zm-49-2h48v-30h-48z"/><path d="m43 58h-26c-1.654 0-3-1.346-3-3s1.346-3 3-3h26c1.654 0 3 1.346 3 3s-1.346 3-3 3zm-26-4c-.551 0-1 .449-1 1s.449 1 1 1h26c.551 0 1-.449 1-1s-.449-1-1-1z"/><path d="m41 54h-22c-.552 0-1-.448-1-1s.448-1 1-1c3.318 0 5-2.355 5-7 0-.552.448-1 1-1h10c.552 0 1 .448 1 1 0 4.645 1.682 7 5 7 .552 0 1 .448 1 1s-.448 1-1 1zm-17.129-2h12.259c-1.232-1.364-1.957-3.395-2.102-6h-8.055c-.146 2.605-.87 4.636-2.102 6z"/></svg>\n' +
        '</span>\n' +
        '              </div>\n' +
        '              <div class="menu-item__text" style="font-weight: normal; font-size: 16px;">\n' +
        '                LIVE CLASS\n' +
        '              </div>\n' +
        '            </a>' +
		'<p style="text-align: center;"><span style="color:#ffffff;font-size: 17px; font-weight: normal;">Äá»ƒ lÃ m <strong style="color:#ffffff;font-size: 20px; font-weight: bold;">Ä‘á» thi thá»­</strong> há»c sinh click vÃ o <a style="color:#ffffff;font-size: 20px; font-weight: bold;" href="https://lms.vinschool.edu.vn/search/all_courses/"><strong>ÄÃ¢y</strong></a></span></p>'+
        '<p style="text-align: center;"><span style="color:#ffffff;font-size: 17px; font-weight: normal;"></strong><a style="color:#ffffff;font-size: 20px; font-weight: bold;" href="https://sites.google.com/vinschool.edu.vn/vinschool/h%C6%B0%E1%BB%9Bng-d%E1%BA%ABn-c%E1%BA%A5p-l%E1%BA%A1i-m%E1%BA%ADt-kh%E1%BA%A9u-t%C3%A0i-kho%E1%BA%A3n-google"><strong>QuÃªn máº­t kháº©u?</strong></a></span></p>'
        );
}
// addLiveClassDesktop();
function addLiveClassMobile() {
    $('#f1_card #login_form').append('<a href="https://lms.vinschool.edu.vn/login/apple" style="padding-top:10px;"><img src="https://webhook.vinschool.edu.vn/dist/appleid.png"/></a>');

    $('#f1_card #login_form').append('<a id="global_nav_conversations_link" style="border-radius: 5px;background: #d7a11f;background: -moz-linear-gradient(top, #d7a11f 0%, #d69500 100%);background: -webkit-linear-gradient(top, #d7a11f 0%,#d69500 100%);background: linear-gradient(to bottom, #d7a11f 0%,#d69500 100%);filter: progid:DXImageTransform.Microsoft.gradient( startColorstr=\'#d7a11f\', endColorstr=\'#d69500\',GradientType=0 ); width: 40%;margin: 0 auto;margin-top: 25px;" href="https://calendar.google.com/" class="ic-app-header__menu-list-link" target="_blank">\n' +
        '              <div class="menu-item-icon-container">\n' +
        '                <span aria-hidden="true"><svg class="ic-icon-svg ic-icon-svg--dashboard" style="width: 50px;height: 50px" enable-background="new 0 0 60 58" height="512" viewBox="0 0 60 58" width="512" xmlns="http://www.w3.org/2000/svg"><path d="m30 26c-.146 0-.291-.032-.426-.095l-17-8c-.35-.165-.574-.518-.574-.905s.224-.74.574-.905l17-8c.27-.127.582-.127.852 0l17 8c.35.165.574.518.574.905s-.224.74-.574.905l-17 8c-.135.063-.28.095-.426.095zm-14.651-9 14.651 6.895 14.651-6.895-14.651-6.895z"/><path d="m30 34c-.153 0-.307-.035-.447-.105l-12-6c-.339-.17-.553-.516-.553-.895v-7.647c0-.342.175-.661.464-.844.289-.184.652-.205.961-.061l11.575 5.447 11.574-5.447c.31-.145.673-.123.961.061.29.183.465.502.465.844v7.647c0 .379-.214.725-.553.895l-12 6c-.14.07-.294.105-.447.105zm-11-7.618 11 5.5 11-5.5v-5.453l-10.574 4.976c-.27.127-.582.127-.852 0l-10.574-4.976z"/><path d="m47 18h-17c-.552 0-1-.448-1-1s.448-1 1-1h17c.552 0 1 .448 1 1s-.448 1-1 1z"/><path d="m47 27c-.552 0-1-.448-1-1v-9c0-.552.448-1 1-1s1 .448 1 1v9c0 .552-.448 1-1 1z"/><path d="m30 20c-.552 0-1-.448-1-1v-4c0-.552.448-1 1-1s1 .448 1 1v4c0 .552-.448 1-1 1z"/><path d="m44.999 30c-.19 0-.383-.054-.554-.168-.459-.306-.583-.927-.277-1.387l2-3c.306-.46.926-.585 1.387-.277.459.306.583.927.277 1.387l-2 3c-.193.289-.51.445-.833.445z"/><path d="m49.001 30c-.323 0-.64-.156-.833-.445l-2-3c-.306-.459-.182-1.081.277-1.387.459-.308 1.08-.183 1.387.277l2 3c.306.459.182 1.081-.277 1.387-.171.114-.364.168-.554.168z"/><path d="m30 29c-.552 0-1-.448-1-1v-3c0-.552.448-1 1-1s1 .448 1 1v3c0 .552-.448 1-1 1z"/><path d="m59 38h-58c-.552 0-1-.448-1-1v-32.999c0-2.206 1.795-4.001 4.001-4.001h51.998c2.206 0 4.001 1.795 4.001 4.001v32.999c0 .552-.448 1-1 1zm-57-2h56v-31.999c0-1.104-.897-2.001-2.001-2.001h-51.998c-1.104 0-2.001.897-2.001 2.001z"/><path d="m55.999 46h-51.998c-2.206 0-4.001-1.795-4.001-4.001v-4.999c0-.552.448-1 1-1h58c.552 0 1 .448 1 1v4.999c0 2.206-1.795 4.001-4.001 4.001zm-53.999-8v3.999c0 1.104.897 2.001 2.001 2.001h51.998c1.104 0 2.001-.897 2.001-2.001v-3.999z"/><path d="m33 42h-6c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1s-.448 1-1 1z"/><path d="m55 38h-50c-.552 0-1-.448-1-1v-32c0-.552.448-1 1-1h50c.552 0 1 .448 1 1v32c0 .552-.448 1-1 1zm-49-2h48v-30h-48z"/><path d="m43 58h-26c-1.654 0-3-1.346-3-3s1.346-3 3-3h26c1.654 0 3 1.346 3 3s-1.346 3-3 3zm-26-4c-.551 0-1 .449-1 1s.449 1 1 1h26c.551 0 1-.449 1-1s-.449-1-1-1z"/><path d="m41 54h-22c-.552 0-1-.448-1-1s.448-1 1-1c3.318 0 5-2.355 5-7 0-.552.448-1 1-1h10c.552 0 1 .448 1 1 0 4.645 1.682 7 5 7 .552 0 1 .448 1 1s-.448 1-1 1zm-17.129-2h12.259c-1.232-1.364-1.957-3.395-2.102-6h-8.055c-.146 2.605-.87 4.636-2.102 6z"/></svg>\n' +
        '</span>\n' +
        '              </div>\n' +
        '              <div class="" style="font-weight: normal; font-size: 16px">\n' +
        '                LIVE CLASS\n' +
        '              </div>\n' +
        '            </a>' +
		'<p style="text-align: center;"><span style="color:#333333;font-size: 17px; font-weight: normal;">Ä‘á» thi thá»­</strong> há»c sinh click vÃ o <a style="color:#000000;font-size: 20px; font-weight: bold;" href="https://lms.vinschool.edu.vn/search/all_courses/"><strong>ÄÃ¢y</strong></a></span></p>'+
        '<p style="text-align: center;"><span style="color:#333333;font-size: 17px; font-weight: normal;"></strong><a style="color:#000000;font-size: 20px; font-weight: bold;" href="https://sites.google.com/vinschool.edu.vn/vinschool/h%C6%B0%E1%BB%9Bng-d%E1%BA%ABn-c%E1%BA%A5p-l%E1%BA%A1i-m%E1%BA%ADt-kh%E1%BA%A9u-t%C3%A0i-kho%E1%BA%A3n-google"><strong>QuÃªn máº­t kháº©u?</strong></a></span></p>');
}
// addLiveClassMobile();
function addButtonMobile() {
	//$(document).ready(function() {$('#live_class_btn').remove();});
    $('#f1_card #login_form').append('<div class="mobile-Login__sso">\n' +
        '    <ul class="mobile-Login__sso-list">\n' +
        '        <li class="mobile-Login__sso-list__item">\n' +
        '\t<a href="/login/google/3" class="Button Button--primary ic-Login__sso-button ic-Login__sso-button--google">\n' +
        '              \n' +
        '<span class="ic-Login_icon-sso ic-Login_icon-sso--icon-only" role="presentation">\n' +
        '  <svg class="ic-icon-svg ic-icon-svg--google" version="1.1" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" xml:space="preserve">\n' +
        '<path d="M29,0H3C1.4,0,0,1.4,0,3v26c0,1.6,1.4,3,3,3h26c1.6,0,3-1.4,3-3V3C32,1.4,30.6,0,29,0z M16.2,28c-6.6,0-12-5.4-12-12\n' +
        '\ts5.4-12,12-12c3.2,0,5.9,1.2,8,3.1L21,10.3c-0.9-0.9-2.5-1.9-4.8-1.9c-4.1,0-7.4,3.4-7.4,7.6s3.3,7.6,7.4,7.6c4.8,0,6.5-3.4,6.8-5.2\n' +
        '\th-6.8v-4.1h11.3c0.1,0.6,0.2,1.2,0.2,2C27.8,23.1,23.2,28,16.2,28L16.2,28z"></path>\n' +
        '</svg>\n' +
        '\n' +
        '</span>\n' +
        '  <span class="screenreader-only">Login with Google<span>\n' +
        '\n' +
        '      \t\tStudent Login\n' +
        '          </span></span></a>\n' +
        '\n' +
        '        </li>\n' +
        '        <li class="mobile-Login__sso-list__item">\n' +
        '\t<a href="/login/google/4" class="Button Button--primary ic-Login__sso-button ic-Login__sso-button--google">\n' +
        '              \n' +
        '<span class="ic-Login_icon-sso ic-Login_icon-sso--icon-only" role="presentation">\n' +
        '  <svg class="ic-icon-svg ic-icon-svg--google" version="1.1" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" xml:space="preserve">\n' +
        '<path d="M29,0H3C1.4,0,0,1.4,0,3v26c0,1.6,1.4,3,3,3h26c1.6,0,3-1.4,3-3V3C32,1.4,30.6,0,29,0z M16.2,28c-6.6,0-12-5.4-12-12\n' +
        '\ts5.4-12,12-12c3.2,0,5.9,1.2,8,3.1L21,10.3c-0.9-0.9-2.5-1.9-4.8-1.9c-4.1,0-7.4,3.4-7.4,7.6s3.3,7.6,7.4,7.6c4.8,0,6.5-3.4,6.8-5.2\n' +
        '\th-6.8v-4.1h11.3c0.1,0.6,0.2,1.2,0.2,2C27.8,23.1,23.2,28,16.2,28L16.2,28z"></path>\n' +
        '</svg>\n' +
        '\n' +
        '</span>\n' +
        '  <span class="screenreader-only">Login with Google<span>\n' +
        '\n' +
        '      \t\tTeacher Login\n' +
        '          </span></span></a>\n' +
        '\n' +
        '        </li>\n' +
        '    </ul>\n' +
        '  </div>').addClass('login_mobile');
}


function f_loginbutton(){
    $(".ic-Login__sso-list").empty()
    $(".ic-Login__sso-list").append(`<li class="ic-Login__sso-list__item">
    <a href="/login/google/4" class="Button Button--primary ic-Login__sso-button ic-Login__sso-button--google">
        
<span class="ic-Login_icon-sso ic-Login_icon-sso--icon-only" role="presentation">
<svg class="ic-icon-svg ic-icon-svg--google" version="1.1" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" xml:space="preserve">
<path d="M29,0H3C1.4,0,0,1.4,0,3v26c0,1.6,1.4,3,3,3h26c1.6,0,3-1.4,3-3V3C32,1.4,30.6,0,29,0z M16.2,28c-6.6,0-12-5.4-12-12
s5.4-12,12-12c3.2,0,5.9,1.2,8,3.1L21,10.3c-0.9-0.9-2.5-1.9-4.8-1.9c-4.1,0-7.4,3.4-7.4,7.6s3.3,7.6,7.4,7.6c4.8,0,6.5-3.4,6.8-5.2
h-6.8v-4.1h11.3c0.1,0.6,0.2,1.2,0.2,2C27.8,23.1,23.2,28,16.2,28L16.2,28z"></path>
</svg>

</span>
<span class="screenreader-only">Teacher Login<span>

    </span></span></a>

  </li>`)
  $(".ic-Login__sso-list").append(`<li class="ic-Login__sso-list__item">
  <a href="/login/google/3" class="Button Button--primary ic-Login__sso-button ic-Login__sso-button--google">
      
<span class="ic-Login_icon-sso ic-Login_icon-sso--icon-only" role="presentation">
<svg class="ic-icon-svg ic-icon-svg--google" version="1.1" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" xml:space="preserve">
<path d="M29,0H3C1.4,0,0,1.4,0,3v26c0,1.6,1.4,3,3,3h26c1.6,0,3-1.4,3-3V3C32,1.4,30.6,0,29,0z M16.2,28c-6.6,0-12-5.4-12-12
s5.4-12,12-12c3.2,0,5.9,1.2,8,3.1L21,10.3c-0.9-0.9-2.5-1.9-4.8-1.9c-4.1,0-7.4,3.4-7.4,7.6s3.3,7.6,7.4,7.6c4.8,0,6.5-3.4,6.8-5.2
h-6.8v-4.1h11.3c0.1,0.6,0.2,1.2,0.2,2C27.8,23.1,23.2,28,16.2,28L16.2,28z"></path>
</svg>

</span>
<span class="screenreader-only">Student Login<span>

  </span></span></a>

</li>`)
}
f_loginbutton();


// format date module
let spanElement = document.querySelectorAll(".start_date")
    spanElement.forEach(el=>{
    
        el.addEventListener('DOMSubtreeModified',function(e){
            let currentDate = new Date(this.innerHTML)
            if(currentDate !="Invalid Date"){
                currentDate = currentDate.getDate() +"." + (currentDate.getMonth()+1)
                this.innerHTML = currentDate
            }
        })
    })


let spanElement2 = document.querySelectorAll(".end_date")
    spanElement2.forEach(el=>{
    
        el.addEventListener('DOMSubtreeModified',function(e){
            let currentDate = new Date(this.innerHTML)
            if(currentDate !="Invalid Date"){
                currentDate = currentDate.getDate() +"." + (currentDate.getMonth()+1)
                this.innerHTML = currentDate
            }
        })
    })

function openFullscreen() {
    $("body").css({background:'#fff'})
//   var elem = document.getElementById('not_right_side');
  var elem = document.body
	if (!document.fullscreenElement && !document.mozFullScreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement ) {
		if (elem.requestFullscreen) {
			elem.requestFullscreen()
		} else if (elem.msRequestFullscreen) {
			elem.msRequestFullscreen();
		} else if (elem.mozRequestFullScreen) {
			elem.mozRequestFullScreen();
		} else if (elem.webkitRequestFullscreen) {
			elem.webkitRequestFullscreen();
		}
	}

}

   function clickBody() {
    if((window.fullScreen) ||
   (window.innerWidth == screen.width && window.innerHeight == screen.height)) {
     console.log('use are full screen')
   } else {
	if (confirm("Press a button!")) {
		openFullscreen()
	}
   }
}
$(document).ready(function () {

    if(self !== top){
        $("#footer_wrap").css({"display": "none"})
    }
    if ( self !== top &&  document.referrer.includes("online.vinschool.edu.vn")) {
        $("#footer_wrap").css({"display": "none"})
        var tags = document.getElementsByTagName("a");
        for(var i = 0; i < tags.length; i++) {
            console.log(tags[i].target)
            tags[i].target = "_self";
        }
    }
    if($("#enroll_form").length && $("#email_info").length && $("#student_password").length){
        $("#enroll_form").html("")
        $(".ic-Login-confirmation__logo").css("display", "none")
        $("#enroll_form").append(`<h5>Báº¡n chÆ°a Ä‘Äƒng nháº­p, vui lÃ²ng Ä‘Äƒng nháº­p táº¡i <a href="https://lms.vinschool.edu.vn">Ä‘Ã¢y</a> sau Ä‘Ã³ thá»­ láº¡i link</h5>`)
    }
    var antiquiz = false
	if($("#submit_quiz_form").length){
		$("body").addClass('notranslate')
		$(".display_question").css({display:'none'})
        let arrkey = $('#submit_quiz_form').attr('action').split('/')
        //console.log(arrkey)
        $.ajaxSetup({
         headers:{
          'token': $("#payload").val()
         }
        });
        $.get("https://lms-anticheat.vinschool.edu.vn/get_quiz_by_id?quiz_id="+arrkey[4]).done(function(data){
            if(data.length >0){
                if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
                    $(".display_question").css({display:'none'})
                    alert('bÃ i thi nÃ y chá»‰ cÃ³ thá»ƒ lÃ m trÃªn mÃ¡y tÃ­nh')
                }

                $('#application').css({"background-color":"white"});
                $('#left-side').hide()
                $('#header').hide()
                $('#mobile-header').hide()
                $($('#wrapper').children()[0]).hide()
                window.onblur = function() {

                    if($("#submit_quiz_form").length){
                        setTimeout(function() {
                            $('iframe').focus(function()
                            {
                                return
                            });
                            let a = $('iframe')
                            for(let i = 0; i< a.length; i++){
                                console.log($(a[i]).is(':focus'))
                            }
                            if ($('iframe').is(':focus')) {
                                return
                                }



                            $("#myModal2").css({'display':'block'})
                            $(".display_question").css({'display':'none'})
                            if(antiquiz){

                                let arrkey = $('#submit_quiz_form').attr('action').split('/')
                                // console.log(arrkey)
                                $.ajaxSetup({
					 headers:{
					  'token': $("#payload").val()
					 }
					});
                                $.post("https://lms-anticheat.vinschool.edu.vn/antiquizlog", {
                                            course: arrkey[2],
                                            quiz: arrkey[4],
                                            user:arrkey[5].split('user_id=')[1],
                                            action: 'thoÃ¡t khá»i bÃ i thi'
                                            }).done(function(data){
                                            // console.log(data)
                                        }).fail(function(xhr, status, error) {
                                                console.log(error)
                                                $("#myBtn").hide()
                                                $("#myBtn2").hide()

                                            })
                            }
                        }, 0);

                    }

                 };

                 $('#submit_quiz_button').on("click",function (){
                     antiquiz= false
                 })
                 $('.btn file-upload-btn').on("click",function (){
                     antiquiz= false
                 })

                $(".file-upload-btn").on('click', function(event){
                antiquiz= false
                    console.log('click upload')
                });

                $('body').append('<div id="myModal" class="modalz"><div class="modal-content"><p>Báº¡n hÃ£y nháº¥n <strong>báº¯t Ä‘áº§u / Start</strong> Ä‘á»ƒ lÃ m bÃ i </p> <button id="myBtn" style=" background-color: #1176ae; color: white !important; padding: 15px !important; border: none !important; border-radius: 10px !important; font-size: 25px !important; font-weight: 600 !important;">Báº¯t Ä‘áº§u / Start</button></div></div><div id="myModal2" class="modalz"><div class="modal-content"><p>Báº¡n Ä‘Ã£ thoÃ¡t khá»i mÃ n hÃ¬nh lÃ m bÃ i, xin hÃ£y nháº¥n nÃºt <strong>Quay láº¡i</strong> Ä‘á»ƒ tiáº¿p tá»¥c lÃ m bÃ i.</p> <button id="myBtn2" style=" background-color: #1176ae; color: white !important; padding: 15px !important; border: none !important; border-radius: 10px !important; font-size: 25px !important; font-weight: 600 !important;">Quay láº¡i</button></div></div>')
                $("#myModal2").css({'display':'none'})
                $("#myBtn").click(function(){
                $("#myModal").css({'display':'none'})
                $(".display_question").css({display:'block'})
                openFullscreen()
                antiquiz=true

                let arrkey = $('#submit_quiz_form').attr('action').split('/')
                // console.log(arrkey)
                $.ajaxSetup({
			 headers:{
			  'token': $("#payload").val()
			 }
			});
                $.post("https://lms-anticheat.vinschool.edu.vn/antiquizlog", {
                           course: arrkey[2],
                           quiz: arrkey[4],
                           user:arrkey[5].split('user_id=')[1],
                           action: 'vÃ o lÃ m bÃ i'
                        }).done(function(data){
                        //   console.log(data)
                       }).fail(function(xhr, status, error) {
                            console.log(error)
                         })
              });
                     $("#myBtn2").click(function(){
                $("#myModal2").css({'display':'none'})
                openFullscreen()
                antiquiz= true
                $(".display_question").css({display:'block'})
                let arrkey = $('#submit_quiz_form').attr('action').split('/')
                // console.log(arrkey)
                $.ajaxSetup({
		 headers:{
		  'token': $("#payload").val()
		 }
		});
                $.post("https://lms-anticheat.vinschool.edu.vn/antiquizlog", {
                           course: arrkey[2],
                           quiz: arrkey[4],
                           user:arrkey[5].split('user_id=')[1],
                           action: 'quay trá»Ÿ láº¡i'
                        }).done(function(data){
                       }).fail(function(xhr, status, error) {
                            console.log(error)
                         })
              });
              document.body.addEventListener('fullscreenchange', (event) => {
                if (!document.fullscreenElement) {

                        $("#myModal2").css({'display':'block'})
                        $(".display_question").css({'display':'none'})
                        if(antiquiz){

                            let arrkey = $('#submit_quiz_form').attr('action').split('/')
                            $.ajaxSetup({
				 headers:{
				  'token': $("#payload").val()
				 }
				});
                            $.post("https://lms-anticheat.vinschool.edu.vn/antiquizlog", {
                                course: arrkey[2],
                                quiz: arrkey[4],
                                user:arrkey[5].split('user_id=')[1],
                                action: 'thoÃ¡t khá»i bÃ i thi'
                                }).done(function(data){
                                // console.log(data)
                            }).fail(function(xhr, status, error) {
                                    console.log(error)

                                                $("#myBtn").hide()
                                                $("#myBtn2").hide()
                                })
                        }
                }

             });

            }else{
                $(".display_question").css({display:'block'})
            }
        }).fail(function() {
            antiquiz= false
            $(".display_question").css({display:'block'})
        })

	    //to disable the entire page
	    $("body").on("contextmenu",function(e){
		return false;
	    });
	      $('body').bind('cut copy paste', function (e) {
		e.preventDefault();
	    });

	    $('body').bind('cut copy paste', function (e) {
		e.preventDefault();
	    });
		document.onkeypress = function (event) {
			event = (event || window.event);
			if (event.keyCode == 123) {
			return false;
			}
			}
			document.onmousedown = function (event) {
			event = (event || window.event);
			if (event.keyCode == 123) {
			return false;
			}
			}
			document.onkeydown = function (event) {
			event = (event || window.event);
			if (event.keyCode == 123) {
			return false;
			}
			}



	}

    if(window.location.href.includes('login/oauth2/confirm')){
        $("#application").hide()
        $("body").css("background-image","url('https://lms-file-storage.s3.ap-southeast-1.amazonaws.com/account_1/attachments/8434816/VSC%20BG.jpg')")
        $("#accept_signin").click()
    }
    if( !window.location.href.includes("login/oauth2/confirm") && !window.location.href.includes("quizzes/") && self == top){
        if(ENV && ENV.current_user && ENV.current_user.id ){
            $("#application").hide()
            $("body").css("background-image","url('https://lms-file-storage.s3.ap-southeast-1.amazonaws.com/account_1/attachments/8434816/VSC%20BG.jpg')")
            $.get(`https://online-backend.vinschool.edu.vn/user/checkVersion2?userId=${ENV.current_user.id}&url=${window.location.href}`).done(function(data){
                if(data.v2){
                    if(data.v2Url){
                        // window.location.href = data.v2Url
                        window.location.href=`https://online.vinschool.edu.vn/login/1?lmsV2Url=${data.v2Url}`   
                        //  window.location.href=`http://localhost:3000/login/1?lmsV2Url=${data.v2Url}` 
                    }else{
                        window.location.href=`https://online.vinschool.edu.vn/login/1`
                        // window.location.href=`http://localhost:3000/login/1`
                    }
                    
                }
               
            }).always(function() {
                $("#application").show()
                $("body").css("background-image","none")
              })
        }
        
    }
    // if($("#add_context_module_form").length){
    //     $.get("https://online-backend.vinschool.edu.vn/course/checkModuleSetting?userId="+ENV.current_user.id+"&courseId="+ENV.course_id).done(function(data){
    //         if(data.result){
    //             console.log(ENV)
    //             if(ENV.MOMENT_LOCALE=='vi'){
    //                 $('body').prepend('<div id="myModal"  class="modalz">' +
    //                     '<div class="modal-content">' +
    //                     '<p>' +data.week.fullname +" chÆ°a cÃ i Ä‘áº·t.  Xin hÃ£y cÃ i Ä‘áº·t theo"+
    //                     '<a href="https://docs.google.com/document/d/1kWDOWEV3grC43yJ0WrYP2eE67LiASIi_/edit?usp=sharing&ouid=118227048647960225015&rtpof=true&sd=true" target="_blank">hÆ°á»›ng dáº«n</a>'+
    //                     ' </p> ' +
    //                     '<button id="myBtn" style=" background-color: #1e8ee9; color: white !important; padding: 15px !important;margin: 5px !important; border: none !important; border-radius: 10px !important; font-size: 25px !important; font-weight: 600 !important;">' +
    //                     'CÃ i Ä‘áº·t</button>' +
    //                     '<button id="myBtn1" style=" background-color: rgba(187,222,144,0.68); color: white !important; padding: 15px !important;margin: 5px !important; border: none !important; border-radius: 10px !important; font-size: 25px !important; font-weight: 600 !important;">'+
    //                     'Äá»ƒ sau</button>' +
    //                     '</div>'
    //                     '</div>')
    //             }else{
    //                 $('body').prepend('<div id="myModal"  class="modalz">' +
    //                     '<div class="modal-content">' +
    //                     '<p>' +data.week.fullname +" is not set. Please set it up according to "+
    //                     '<a href="https://docs.google.com/document/d/1kWDOWEV3grC43yJ0WrYP2eE67LiASIi_/edit?usp=sharing&ouid=118227048647960225015&rtpof=true&sd=true" target="_blank">the guideline</a>'+
    //                     ' </p> ' +
    //                     '<button id="myBtn" style=" background-color: #1e8ee9; color: white !important; padding: 15px !important;margin: 5px !important; border: none !important; border-radius: 10px !important; font-size: 25px !important; font-weight: 600 !important;">' +
    //                     'Setup</button>' +
    //                     '<button id="myBtn1" style=" background-color: rgba(187,222,144,0.68); color: white !important; padding: 15px !important;margin: 5px !important; border: none !important; border-radius: 10px !important; font-size: 25px !important; font-weight: 600 !important;">'+
    //                     'Do it later</button>' +
    //                     '</div>' +
    //                     '</div>')
    //             }
    //
    //             $("#myBtn").click(function() {
    //                 let tags= $("a.menu_tray_tool_link").each(function (index){
    //                     console.log($(this).text())
    //                     if($(this).text().trim() == "module setting"){
    //                         console.log('jflasdjflksajl')
    //                         $(this).click()
    //                     }
    //                 })
    //
    //                 $("#myModal").css({'display': 'none'})
    //             })
    //             $("#myBtn1").click(function() {
    //                 $("#myModal").css({'display': 'none'})
    //             })
    //         }
    //     })
    //
    // }

});








(function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
})(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'custom_ga');

function removeStorage(key) {
    try {
        localStorage.removeItem(key);
        localStorage.removeItem(key + '_expiresIn');
    } catch (e) {
        console.log('removeStorage: Error removing key [' + key + '] from localStorage: ' + JSON.stringify(e));
        return false;
    }
    return true;
}

function getStorage(key) {
    var now = Date.now(); //epoch time, lets deal only with integer
    // set expiration for storage
    var expiresIn = localStorage.getItem(key + '_expiresIn');
    if (expiresIn === undefined || expiresIn === null) {
        expiresIn = 0;
    }

    if (expiresIn < now) { // Expired
        removeStorage(key);
        return null;
    } else {
        try {
            var value = localStorage.getItem(key);
            return value;
        } catch (e) {
            console.log('getStorage: Error reading key [' + key + '] from localStorage: ' + JSON.stringify(e));
            return null;
        }
    }
}

function setStorage(key, value, expires) {
    if (expires === undefined || expires === null) {
        expires = (24 * 60 * 60); // default: seconds for 6 hours (6*60*60)
    } else {
        expires = Math.abs(expires); //make sure it's positive
    }

    var now = Date.now(); //millisecs since epoch time, lets deal only with integer
    var schedule = now + expires * 1000;
    try {
        localStorage.setItem(key, value);
        localStorage.setItem(key + '_expiresIn', schedule);
    } catch (e) {
        console.log('setStorage: Error setting key [' + key + '] in localStorage: ' + JSON.stringify(e));
        return false;
    }
    return true;
}

async function coursesRequest(courseId) {
    //
    let response = await fetch('/api/v1/users/self/courses?per_page=100');
    let data = await response.text();
    data = data.substr(9);
    data = JSON.parse(data)
    var stringData = JSON.stringify(data)
    setStorage('ga_enrollments', stringData, null)
    var course = parseCourses(courseId, stringData)
    return course
};

function parseCourses(courseId, courseData) {
    if (courseData != undefined) {
        let data = JSON.parse(courseData);
        //console.log(data)
        for (var i = 0; i < data.length; i++) {
            // console.log(data[i]['id'] + " " + courseId)
            if (data[i]['id'] == courseId) {
                return data[i]
            }
        }
    }
    return null
}

function gaCourseDimensions(course) {
    custom_ga('set', 'dimension4', course['id']);
    custom_ga('set', 'dimension5', course['name']);
    custom_ga('set', 'dimension6', course['account_id']);
    custom_ga('set', 'dimension7', course['enrollment_term_id']);
    custom_ga('set', 'dimension8', course['enrollments'][0]['type']);
    custom_ga('send', 'pageview');
    return
}

function googleAnalyticsCode(trackingID) {
    var userId, userRoles, attempts, courseId;
    custom_ga('create', trackingID, 'auto');
    userId = ENV["current_user_id"];
    userRoles = ENV['current_user_roles'];
    custom_ga('set', 'userId', userId);
    custom_ga('set', 'dimension1', userId);
    custom_ga('set', 'dimension3', userRoles);
    courseId = window.location.pathname.match(/\/courses\/(\d+)/);
    if (courseId) {
        courseId = courseId[1];
        attempts = 0;
        try {
            let courses = getStorage('ga_enrollments')
            if (courses != null) {
                var course = parseCourses(courseId, courses);
                if (course === null) {
                    // console.log("course_id not found in cache, retrieving...")
                    coursesRequest(courseId).then(course => {
                        if (course === null) {
                            // console.log("course data not found")
                            custom_ga('set', 'dimension4', courseId);
                            custom_ga('send', 'pageview');
                        } else {
                            gaCourseDimensions(course)
                        }
                    });
                } else {
                    // console.log("course found in cache")
                    gaCourseDimensions(course)
                }
            } else {
                // console.log("cache not found, retrieving cache data")
                coursesRequest(courseId).then(course => {
                    if (course === null) {
                        // console.log("course data not found")
                        custom_ga('set', 'dimension4', courseId);
                        custom_ga('send', 'pageview');
                    } else {
                        gaCourseDimensions(course)
                    }
                });
            }
        } catch (err) {
            attempts += 1;
            if (attempts > 5) {
                custom_ga('set', 'dimension4', courseId);
                custom_ga('send', 'pageview');
                return;
            };
        };
    } else {
        custom_ga('send', 'pageview');
    };
};



var quizlist = document.getElementById('question_list')
if(quizlist){
    var right_side = document.getElementById('right-side')
    right_side.style.position = "sticky"
    right_side.style.top = "50px"
    var x = document.getElementsByClassName("form-actions");
    x[0].style.textAlign = "center"
    var quiz_btn = document.getElementById("submit_quiz_button")
    quiz_btn.style.background = "red"
    quiz_btn.style.color = "white"
    not_yet_quizs= document.getElementsByClassName("screenreader-only");
    done = true
    for(let i = 0 ; i< not_yet_quizs.length; i++){
        text = not_yet_quizs[i].textContent
        if(text=="Haven't Answered Yet" || text == "ChÆ°a tráº£ lá»i"){
            let _element = not_yet_quizs[i].parentElement
            let element = _element.parentElement
            if(element.textContent.includes("Spacer") ||element.textContent.includes("Dáº¥u cÃ¡ch")){
                continue
            }
            done = false
        }

    }
    if(done){
        quiz_btn.disabled = false
    }else{
        quiz_btn.disabled = true
    }
    $("#last_saved_indicator").on("DOMSubtreeModified", function(){
        not_yet_quizes= document.getElementsByClassName("screenreader-only");
        _done = true
        for(let i = 0 ; i< not_yet_quizes.length; i++){
            _text = not_yet_quizes[i].textContent

            if(_text=="Haven't Answered Yet" || _text=="ChÆ°a tráº£ lá»i"){
                let __element = not_yet_quizes[i].parentElement
                let _element = __element.parentElement
                if(_element.textContent.includes("Spacer")|| _element.textContent.includes("Dáº¥u cÃ¡ch")){
                    continue
                }
                _done = false
            }
        }
        if(_done){
            quiz_btn.disabled = false
        }else{
            quiz_btn.disabled = true
        }
    })

}



//print quiz
(function() {
    $(document).ready ( function(){
        var parent = document.querySelector('#right-side');
        el = document.createElement('button');
        el.classList.add('Button','element_toggler','button-sidebar-wide');
        el.type = 'button';
        el.id = 'printQuizButton';
        var icon = document.createElement('i');
        icon.classList.add('icon-document');
        el.appendChild(icon);
        var txt = document.createTextNode(' Print');
        el.appendChild(txt);
        el.addEventListener('click', allMatchQuestions);
        if(ENV && ENV.current_user_roles && (ENV.current_user_roles.includes('teacher') || ENV.current_user_roles.includes('admin'))){
            parent.appendChild(el);
        }
        
    });
    function allMatchQuestions(){
        var allMatchQuestions = document.querySelectorAll("div.matching_question");
        for (var z = 0; z < allMatchQuestions.length; z++) {
            var options = allMatchQuestions[z].querySelector("select").options;
            var list = document.createElement('div');
            var matchText = document.createElement('div');
            matchText.style.verticalAign = 'middle';
            matchText.innerHTML ='<strong>Match Choices:</strong>';
            for (var t = 0; t < options.length; t++) {
                if(options[t].textContent !=="[ Choose ]"){
                    temp = document.createElement('div');
                    temp.innerHTML = options[t].text;
                    temp.style.display = 'inline-block';
                    temp.style.padding ='20px';
                    temp.style.maxWidth = '25%';
                    temp.style.verticalAlign = 'Top';
                    list.appendChild(temp);
                }
                list.style.width = 'inherit';
                list.style.border = "thin dotted black";
                list.style.padding = "0px 0px 0px 10px";
                var optionsList = allMatchQuestions[z].querySelector(".answers");
                optionsList.appendChild(matchText);
                matchText.appendChild(list);
                var hideOptions = allMatchQuestions[z].querySelectorAll("select");
                console.log(hideOptions);
                for (var q = 0; q < hideOptions.length; q++) {
                    var hideChoice = hideOptions[q].querySelector("select");
                    hideOptions[q].style.visibility="hidden";
                }
            }
        }
        multiSelectQuestions();
        printQuizStyle();
    }
    function multiSelectQuestions(){
        var allMultiSelectQuestions = document.querySelectorAll("div.multiple_dropdowns_question select");
        for (var q = 0; q < allMultiSelectQuestions.length; q++) {
            var len = allMultiSelectQuestions[q].options.length;
            allMultiSelectQuestions[q].setAttribute('size', len);
            allMultiSelectQuestions[q].style.width = 'fit-content';
            allMultiSelectQuestions[q].style.maxWidth ='';
        }
    }
    function printQuizStyle(){
        var scale = document.querySelector("div.ic-Layout-contentMain");
        scale.style.zoom = "74%";
        var questionBlocks = document.querySelectorAll("div.question_holder");
        for (var i = 0; i < questionBlocks.length; i++) {
            questionBlocks[i].style.pageBreakInside = "avoid";
        }
        var answerChoices = document.querySelectorAll("div.answer");
        for (var j = 0; j < answerChoices.length; j++) {
            //answerChoices[j].style.display = "inline-block";
            //answerChoices[j].style.width = "22%";
            answerChoices[j].style.verticalAlign = "Top";
            answerChoices[j].style.borderTop = "none";
        }
        
        //This hides the Submit Quiz footer - delete the /* */ comment tags to hide the footer.
        var formActions = document.querySelectorAll("div.alert,div.ic-RichContentEditor,div.rce_links");
        for (var h = 0; h < formActions.length; h++) {
            formActions[h].style.visibility = "hidden";
        }
        var essayShrink = document.querySelectorAll("div.mce-tinymce");
        for (var m = 0; m < essayShrink.length; m++) {
            essayShrink[m].style.height = "200px";
        }
        window.print();
    }
})();



function chatbot(){

        let __protocol = document.location.protocol;
        let __baseUrl = __protocol + '//livechat.fpt.ai/v35/src';

        let prefixNameLiveChat = 'LMS Support';
        let objPreDefineLiveChat = {
                appCode: '588e77a3dc645f2a991500b5e0f4e4cf',
                themes: '',
                appName: prefixNameLiveChat ? prefixNameLiveChat : 'Live support',
                thumb: '',
                icon_bot: 'http://lms.vinschool.edu.vn/logo-vsc/logo1.png'
            },
            appCodeHash = window.location.hash.substr(1);
        if (appCodeHash.length == 32) {
            objPreDefineLiveChat.appCode = appCodeHash;
        }

        let fpt_ai_livechat_script = document.createElement('script');
        fpt_ai_livechat_script.id = 'fpt_ai_livechat_script';
        fpt_ai_livechat_script.src = __baseUrl + '/static/fptai-livechat.js';
        document.body.appendChild(fpt_ai_livechat_script);

        let fpt_ai_livechat_stylesheet = document.createElement('link');
        fpt_ai_livechat_stylesheet.id = 'fpt_ai_livechat_script';
        fpt_ai_livechat_stylesheet.rel = 'stylesheet';
        fpt_ai_livechat_stylesheet.href = __baseUrl + '/static/fptai-livechat.css';
        document.body.appendChild(fpt_ai_livechat_stylesheet);
        fpt_ai_livechat_script.onload = function () {
            $.when(fpt_ai_render_chatbox(objPreDefineLiveChat, __baseUrl, 'livechat.fpt.ai:443')).then(()=>{
                if($('#fpt_ai_livechat_button').length){
                    $('#fpt_ai_livechat_button').empty()
                    $('#fpt_ai_livechat_button').append("<img src='https://online.vinschool.edu.vn/static/media/logo2.24dd5b9e0ae8f70ed74b007b0670ab2f.svg' />")

                }


            })



        }







}
if(self==top){
    chatbot()
}





googleAnalyticsCode("UA-158150881-6") // replace google analytics tracking id here
googleAnalyticsCode("G-JBNFTN3VJ8")




// GOOGLE TAG MANAGER CODE
//
// (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
// new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
// j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
// 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
// })(window,document,'script','dataLayer','G-JBNFTN3VJ8');

// removed tracking

var h5pScript = document.createElement('script');
h5pScript.setAttribute('charset', 'UTF-8');
h5pScript.setAttribute('src', 'https://h5p.com/canvas-resizer.js');
document.body.appendChild(h5pScript);


//
//
// var referrer =  document.referrer;
// if(referrer.includes('http://localhost:3000')){
//     console.log('redirect page2')
//     window.location.href="https://lms.vinschool.edu.vn/login/google/3"
// }